<!DOCTYPE html>
<html>
<head>
    <title>编辑器预览</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <link type="text/css" rel="stylesheet" href="../css/preview_style.css"/>
    <script type="text/javascript" charset="utf-8" src="../ueditor/ueditor.config.js"></script>
    <script type="text/javascript" charset="utf-8" src="../ueditor/ueditor.all.js"></script>
    <!--建议手动加在语言，避免在ie下有时因为加载语言失败导致编辑器加载失败-->
    <!--这里加载的语言文件会覆盖你在配置项目里添加的语言类型，比如你在配置项目里配置的是英文，这里加载的中文，那最后就是中文-->
    <script type="text/javascript" charset="utf-8" src="../ueditor/lang/zh-cn/zh-cn.js"></script>
    <script type="text/javascript" charset="utf-8" src="../js/cookieUtil.js"></script>
    <script type="text/javascript" charset="utf-8" src="../js/index.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
            crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            crossorigin="anonymous"></script>
    <link
            href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.css"
            rel="stylesheet" type='text/css'>
</head>
<body>

<div id="container">

    <textarea id="editor"></textarea>

    <div id="toolbar_area">
        <div id="toolbar">
            <button class="editor_button" id="preview_button" data-toggle="modal" onclick="preview()">
                <a title="预先观看"/>
                <i class="fa fa-refresh"></i>
                预览
            </button>
            <button class="editor_button" id="collection_button" data-toggle="modal" onclick="collect()">
                <a title="采集其他公众号已发布的文章到编辑区"/>
                <i class="fa fa-refresh"></i>
                采集
            </button>
            <button class="editor_button" id="copy_button" data-toggle="modal" onclick="copy()">
                <a title="复制"/>
                <i class="fa fa-refresh"></i>
                复制
            </button>
            <button class="editor_button" id="release_button"  onclick="release()">
                <a title="发布"/>
                <i class="fa fa-refresh"></i>
                发布
            </button>
        </div>
    </div>

    <div id="preview_area"></div>
</div>
<script type="application/javascript">
    var ue = UE.getEditor('editor');
    ue.addListener("ready", function () {
        ue.adaptiveHeight();
    });
    window.onresize = function () {
        ue.adaptiveHeight();
    };
    UE.getEditor('editor').addListener('ready', function (editor) {
        if (getCookie("editor") !== undefined) {
            UE.getEditor('editor').setContent(getCookie("editor"))
        }
        //开启定时任务,每3秒保存客户正在编辑的数据
        setInterval(saveEditorContentToCookie, 3000);
        preview();
    });
</script>
</body>
</html>