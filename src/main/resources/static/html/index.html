<!DOCTYPE html>
<html>
<head>
    <title>编辑器预览</title>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <link type="text/css" rel="stylesheet" href="../css/preview_style.css"/>
    <script type="text/javascript" charset="utf-8" src="../ueditor/ueditor.config.js"></script>
    <script type="text/javascript" charset="utf-8" src="../ueditor/ueditor.all.js"></script>
    <script type="text/javascript" charset="utf-8" src="../ueditor/addFeature.js"></script>
    <!--建议手动加在语言，避免在ie下有时因为加载语言失败导致编辑器加载失败-->
    <!--这里加载的语言文件会覆盖你在配置项目里添加的语言类型，比如你在配置项目里配置的是英文，这里加载的中文，那最后就是中文-->
    <script type="text/javascript" charset="utf-8" src="../ueditor/lang/zh-cn/zh-cn.js"></script>
    <script type="text/javascript" charset="utf-8" src="../js/cookieUtil.js"></script>
    <script type="text/javascript" charset="utf-8" src="../js/index.js"></script>
    <script type="text/javascript" charset="utf-8" src="../third-party/jquery/jquery.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
            crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
          integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
</head>
<body>

<div id="container">

    <textarea id="editor"></textarea>

    <div id="toolbar_area">
        <div id="toolbar">
            <button class="editor_button" id="preview_button" data-toggle="modal" onclick="preview()">
                <i class="fa fa-play-circle"></i>
                预览
            </button>
            <button class="editor_button" id="collection_button" data-toggle="modal" onclick="collect()">
                <i class="fa fa-search-plus"></i>
                采集
            </button>
            <button class="editor_button" id="copy_button" data-toggle="modal" onclick="copy()">
                <i class="fa fa-copy"></i>
                复制
            </button>
            <button class="editor_button" id="release_button" onclick="release()">
                <i class="fas fa-check-square"></i>
                发布
            </button>
        </div>
    </div>

    <div id="preview_area"></div>
</div>
<script type="application/javascript">
    var ue = UE.getEditor('editor');
    ue.addListener("ready", function () {
        ue.adaptiveHeight();
    });
    window.onresize = function () {
        ue.adaptiveHeight();
    };
    UE.getEditor('editor').addListener('ready', function (editor) {
        if (getCookie("editor") !== undefined) {
            UE.getEditor('editor').setContent(getCookie("editor"))
        }
        //开启定时任务,每3秒保存客户正在编辑的数据
        setInterval(saveEditorContentToCookie, 3000);
        setInterval(preview, 1000);
    });
</script>
</body>
</html>